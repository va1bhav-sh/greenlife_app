{% extends "base.html" %}
{% block title %}Rewards â€” GreenLife{% endblock %}
{% block content %}

<div class="text-center mb-5">
  <h1 class="display-6 text-success">ğŸ GreenLife Rewards</h1>
  <p class="text-muted">Use your eco-points to claim rewards and help your community thrive ğŸŒ±</p>
</div>

<div class="row g-4">
  {% for reward in rewards %}
  <div class="col-md-6 col-lg-3">
    <div class="eco-card h-100 text-center p-4 border rounded-3 shadow-sm">
      <div class="reward-icon mb-3" style="font-size:32px;">
        {% if reward.tier == 'Bronze' %}ğŸ›{% elif reward.tier == 'Silver' %}ğŸ§´{% elif reward.tier == 'Gold' %}ğŸŒ³{% else %}ğŸ…{% endif %}
      </div>
      <h4>{{ reward.tier }}</h4>
      <p class="fw-bold mb-1">{{ reward.points }} points</p>
      <p class="text-muted">{{ reward.reward }}</p>
      {% set user_pts = current_user.points or 0 %}
      <div class="progress mb-2" style="height:8px;">
        <div class="progress-bar" style="width:{{ (user_pts / reward.points * 100) | int }}%"></div>
      </div>
      <small class="text-muted">
        {% if user_pts >= reward.points %}âœ… Eligible{% else %}{{ reward.points - user_pts }} pts to go{% endif %}
      </small>
      <div class="mt-3">
        <button class="btn btn-outline-success btn-sm" onclick="alert('Redeem coming soon!')">Redeem</button>
      </div>
    </div>
  </div>
  {% endfor %}
</div>

<div class="text-center mt-4">
  <a href="{{ url_for('leaderboard') }}" class="btn btn-outline-success">ğŸ† Leaderboard</a>
  <a href="{{ url_for('index') }}" class="btn btn-success ms-2">â¬… Back Home</a>
</div>

{% endblock %}
